{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap e273b7f0cb08d953937b","webpack:///./src/app.js","webpack:///external \"$\"","webpack:///external \"PIXI\"","webpack:///./src/Global.js","webpack:///./~/eventemitter3/index.js","webpack:///./src/GameEngine.js","webpack:///./src/GameObject/Assets.js","webpack:///./src/GameObject/Background.js","webpack:///./src/util/extends.js","webpack:///./src/GameObject/Plane.js","webpack:///./src/GameObject/Bullets.js","webpack:///./src/Collision.js","webpack:///./src/GameObject/RockArray.js","webpack:///./src/GameObject/Rock.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","$","PIXI","Global","GameEngine","Assets","animate","requestAnimationFrame","gameEngine","update","renderer","render","stage","resize","screenWidth","stageWidth","screenHeight","stageHeight","winObject","width","height","gameWidth","gameHeight","screenRatio","mask","clear","beginFill","x","y","drawRect","endFill","scale","autoDetectRenderer","window","innerWidth","innerHeight","view","Container","Graphics","loader","gameStage","baseUrl","assetList","i","push","once","init","add","load","on","EventEmitter","gameEvent","gameStartTime","input","EE","fn","context","this","has","Object","prototype","hasOwnProperty","prefix","create","_events","undefined","eventNames","name","events","names","slice","getOwnPropertySymbols","concat","listeners","event","exists","evt","available","l","length","ee","Array","emit","a1","a2","a3","a4","a5","args","len","arguments","removeListener","apply","j","listener","removeAllListeners","off","addListener","setMaxListeners","prefixed","listen","data","local","toLocal","global","type","that","time","Date","now","gameObjectList","resources","plane","Plane","texture","bg","Background","addChild","bullets","Bullets","bullet","rocks","RockArray","interactive","currentTime","delta","url","rock1","rock2","resetHeight","movableWidth","speedY","minX","planeMovableWidth","maxX","sprite","Sprite","bgHeight","bgScale","dt","Extends","target","source","constructor","onDown","isDown","moveTo","onUp","moveToPosition","onMove","position","speed","anchor","moveToX","distance","Math","min","abs","shoot","lastFire","firePerSecond","pop","updates","count","_texture","Collision","addGroup","parent","removeChild","splice","groups","instance","group","array","isCollide","targetWidth","targetHeight","x2","y2","instanceWidth","instanceHeight","x1","y1","generateRocks","rocksPerSecond","rock","rockName","floor","random","n","Rock","textureName","speedX","speedRotation","rotation"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, PIXI) {'use strict';\n\t\n\t// require('../css/app.css');\n\t// require('babel-polyfill');\n\tvar Global = __webpack_require__(3);\n\tvar GameEngine = __webpack_require__(5);\n\tvar Assets = __webpack_require__(6);\n\t$(function () {\n\t  var renderer = PIXI.autoDetectRenderer(window.innerWidth, window.innerHeight, {\n\t    view: $(\"canvas\")[0]\n\t  });\n\t\n\t  var stage = new PIXI.Container(),\n\t      mask = new PIXI.Graphics(),\n\t      loader = PIXI.loader,\n\t      gameEngine = new GameEngine(stage),\n\t      winObject = $(window);\n\t\n\t  Global.gameStage = stage;\n\t  stage.mask = mask;\n\t\n\t  loader.baseUrl = \"assets/\";\n\t  var assetList = [];\n\t  for (var i in Assets) {\n\t    assetList.push(Assets[i]);\n\t  }loader.once('complete', function () {\n\t    gameEngine.init();\n\t    // var area = new PIXI.Graphics();\n\t    // area.beginFill(0xFFFFFF);\n\t    // area.drawRect(0, 0, Global.gameWidth, Global.gameHeight);\n\t    // area.endFill();\n\t    // stage.addChild(area);\n\t    animate();\n\t  }).add(assetList).load();\n\t\n\t  function animate() {\n\t    requestAnimationFrame(animate);\n\t    gameEngine.update();\n\t    renderer.render(stage);\n\t  }\n\t\n\t  winObject.on(\"resize\", resize);\n\t  resize();\n\t\n\t  function resize() {\n\t    var screenWidth, stageWidth, screenHeight, stageHeight;\n\t    screenWidth = stageWidth = winObject.width();\n\t    screenHeight = stageHeight = winObject.height();\n\t    var gameWidth = Global.gameWidth;\n\t    var gameHeight = Global.gameHeight;\n\t    var screenRatio = gameHeight / gameWidth;\n\t    if (stageHeight / stageWidth < screenRatio) stageWidth = stageHeight / screenRatio;else stageHeight = stageWidth * screenRatio;\n\t    mask.clear();\n\t    mask.beginFill(0xFFFFFF, 1);\n\t    var x = (screenWidth - stageWidth) / 2;\n\t    var y = (screenHeight - stageHeight) / 2;\n\t    mask.drawRect(x, y, stageWidth, stageHeight);\n\t    mask.endFill();\n\t    stage.x = x;\n\t    stage.y = y;\n\t    stage.scale.x = stageWidth / gameWidth;\n\t    stage.scale.y = stageHeight / gameHeight;\n\t    renderer.resize(screenWidth, screenHeight);\n\t  }\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1), __webpack_require__(2)))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = $;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = PIXI;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar EventEmitter = __webpack_require__(4);\n\tmodule.exports = {\n\t  gameStage: null,\n\t  gameWidth: 500,\n\t  gameHeight: 800,\n\t  gameEvent: new EventEmitter(),\n\t  gameStartTime: null,\n\t  input: new EventEmitter()\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar has = Object.prototype.hasOwnProperty;\n\t\n\t//\n\t// We store our EE objects in a plain object whose properties are event names.\n\t// If `Object.create(null)` is not supported we prefix the event names with a\n\t// `~` to make sure that the built-in object properties are not overridden or\n\t// used as an attack vector.\n\t// We also assume that `Object.create(null)` is available when the event name\n\t// is an ES6 Symbol.\n\t//\n\tvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\t\n\t/**\n\t * Representation of a single EventEmitter function.\n\t *\n\t * @param {Function} fn Event handler to be called.\n\t * @param {Mixed} context Context for function execution.\n\t * @param {Boolean} [once=false] Only emit once\n\t * @api private\n\t */\n\tfunction EE(fn, context, once) {\n\t  this.fn = fn;\n\t  this.context = context;\n\t  this.once = once || false;\n\t}\n\t\n\t/**\n\t * Minimal EventEmitter interface that is molded against the Node.js\n\t * EventEmitter interface.\n\t *\n\t * @constructor\n\t * @api public\n\t */\n\tfunction EventEmitter() { /* Nothing to set */ }\n\t\n\t/**\n\t * Hold the assigned EventEmitters by name.\n\t *\n\t * @type {Object}\n\t * @private\n\t */\n\tEventEmitter.prototype._events = undefined;\n\t\n\t/**\n\t * Return an array listing the events for which the emitter has registered\n\t * listeners.\n\t *\n\t * @returns {Array}\n\t * @api public\n\t */\n\tEventEmitter.prototype.eventNames = function eventNames() {\n\t  var events = this._events\n\t    , names = []\n\t    , name;\n\t\n\t  if (!events) return names;\n\t\n\t  for (name in events) {\n\t    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n\t  }\n\t\n\t  if (Object.getOwnPropertySymbols) {\n\t    return names.concat(Object.getOwnPropertySymbols(events));\n\t  }\n\t\n\t  return names;\n\t};\n\t\n\t/**\n\t * Return a list of assigned event listeners.\n\t *\n\t * @param {String} event The events that should be listed.\n\t * @param {Boolean} exists We only need to know if there are listeners.\n\t * @returns {Array|Boolean}\n\t * @api public\n\t */\n\tEventEmitter.prototype.listeners = function listeners(event, exists) {\n\t  var evt = prefix ? prefix + event : event\n\t    , available = this._events && this._events[evt];\n\t\n\t  if (exists) return !!available;\n\t  if (!available) return [];\n\t  if (available.fn) return [available.fn];\n\t\n\t  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n\t    ee[i] = available[i].fn;\n\t  }\n\t\n\t  return ee;\n\t};\n\t\n\t/**\n\t * Emit an event to all registered event listeners.\n\t *\n\t * @param {String} event The name of the event.\n\t * @returns {Boolean} Indication if we've emitted an event.\n\t * @api public\n\t */\n\tEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n\t  var evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events || !this._events[evt]) return false;\n\t\n\t  var listeners = this._events[evt]\n\t    , len = arguments.length\n\t    , args\n\t    , i;\n\t\n\t  if ('function' === typeof listeners.fn) {\n\t    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\t\n\t    switch (len) {\n\t      case 1: return listeners.fn.call(listeners.context), true;\n\t      case 2: return listeners.fn.call(listeners.context, a1), true;\n\t      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n\t      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\t      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\t      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n\t    }\n\t\n\t    for (i = 1, args = new Array(len -1); i < len; i++) {\n\t      args[i - 1] = arguments[i];\n\t    }\n\t\n\t    listeners.fn.apply(listeners.context, args);\n\t  } else {\n\t    var length = listeners.length\n\t      , j;\n\t\n\t    for (i = 0; i < length; i++) {\n\t      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\t\n\t      switch (len) {\n\t        case 1: listeners[i].fn.call(listeners[i].context); break;\n\t        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n\t        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n\t        default:\n\t          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n\t            args[j - 1] = arguments[j];\n\t          }\n\t\n\t          listeners[i].fn.apply(listeners[i].context, args);\n\t      }\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\t/**\n\t * Register a new EventListener for the given event.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Function} fn Callback function.\n\t * @param {Mixed} [context=this] The context of the function.\n\t * @api public\n\t */\n\tEventEmitter.prototype.on = function on(event, fn, context) {\n\t  var listener = new EE(fn, context || this)\n\t    , evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Add an EventListener that's only called once.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Function} fn Callback function.\n\t * @param {Mixed} [context=this] The context of the function.\n\t * @api public\n\t */\n\tEventEmitter.prototype.once = function once(event, fn, context) {\n\t  var listener = new EE(fn, context || this, true)\n\t    , evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove event listeners.\n\t *\n\t * @param {String} event The event we want to remove.\n\t * @param {Function} fn The listener that we need to find.\n\t * @param {Mixed} context Only remove listeners matching this context.\n\t * @param {Boolean} once Only remove once listeners.\n\t * @api public\n\t */\n\tEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n\t  var evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events || !this._events[evt]) return this;\n\t\n\t  var listeners = this._events[evt]\n\t    , events = [];\n\t\n\t  if (fn) {\n\t    if (listeners.fn) {\n\t      if (\n\t           listeners.fn !== fn\n\t        || (once && !listeners.once)\n\t        || (context && listeners.context !== context)\n\t      ) {\n\t        events.push(listeners);\n\t      }\n\t    } else {\n\t      for (var i = 0, length = listeners.length; i < length; i++) {\n\t        if (\n\t             listeners[i].fn !== fn\n\t          || (once && !listeners[i].once)\n\t          || (context && listeners[i].context !== context)\n\t        ) {\n\t          events.push(listeners[i]);\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  //\n\t  // Reset the array, or remove it completely if we have no more listeners.\n\t  //\n\t  if (events.length) {\n\t    this._events[evt] = events.length === 1 ? events[0] : events;\n\t  } else {\n\t    delete this._events[evt];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove all listeners or only the listeners for the specified event.\n\t *\n\t * @param {String} event The event want to remove all listeners for.\n\t * @api public\n\t */\n\tEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n\t  if (!this._events) return this;\n\t\n\t  if (event) delete this._events[prefix ? prefix + event : event];\n\t  else this._events = prefix ? {} : Object.create(null);\n\t\n\t  return this;\n\t};\n\t\n\t//\n\t// Alias methods names because people roll like that.\n\t//\n\tEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\tEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\t\n\t//\n\t// This function doesn't apply anymore.\n\t//\n\tEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n\t  return this;\n\t};\n\t\n\t//\n\t// Expose the prefix.\n\t//\n\tEventEmitter.prefixed = prefix;\n\t\n\t//\n\t// Expose the module.\n\t//\n\tif (true) {\n\t  module.exports = EventEmitter;\n\t}\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(PIXI) {'use strict';\n\t\n\tvar Global = __webpack_require__(3);\n\tvar Assets = __webpack_require__(6);\n\tvar Background = __webpack_require__(7);\n\tvar Plane = __webpack_require__(9);\n\tvar Bullets = __webpack_require__(10);\n\tvar RockArray = __webpack_require__(12);\n\tvar Rock = __webpack_require__(13);\n\t\n\tfunction GameEngine(gameStage) {\n\t  var that = this;\n\t  var stage = gameStage;\n\t\n\t  var time = Date.now();\n\t  var gameObjectList = [];\n\t\n\t  function listen(event) {\n\t    event.data.local = stage.toLocal(event.data.global);\n\t    Global.input.emit(event.type, event);\n\t  }\n\t\n\t  that.init = function () {\n\t    var resources = PIXI.loader.resources;\n\t\n\t    var plane = new Plane(resources[Assets.plane.name].texture);\n\t\n\t    var bg = new Background(resources[Assets.bg.name].texture, plane);\n\t    stage.addChild(bg);\n\t    gameObjectList.push(bg);\n\t\n\t    stage.addChild(plane);\n\t    gameObjectList.push(plane);\n\t\n\t    var bullets = new Bullets(resources[Assets.bullet.name].texture);\n\t    stage.addChild(bullets);\n\t    gameObjectList.push(bullets);\n\t\n\t    var rocks = new RockArray();\n\t    stage.addChild(rocks);\n\t    gameObjectList.push(rocks);\n\t\n\t    // var rock1 = new Rock(Assets.rock1.name, resources[Assets.rock1.name].texture);\n\t    // stage.addChild(rock1);\n\t    // gameObjectList.push(rock1);\n\t    //\n\t    // var rock2 = new Rock(Assets.rock2.name, resources[Assets.rock2.name].texture);\n\t    // stage.addChild(rock2);\n\t    // gameObjectList.push(rock2);\n\t\n\t    stage.interactive = true;\n\t    stage.on('mousedown', listen).on('touchstart', listen).on('mouseup', listen).on('touchend', listen).on('mouseupoutside', listen).on('touchendoutside', listen).on('mousemove', listen).on('touchmove', listen);\n\t\n\t    for (var i = 0, l = gameObjectList.length; i < l; i++) {\n\t      gameObjectList[i].init();\n\t    }Global.gameStartTime = Date.now();\n\t  };\n\t\n\t  that.update = function () {\n\t    var currentTime = Date.now();\n\t    var delta = currentTime - time;\n\t    for (var i = 0, l = gameObjectList.length; i < l; i++) {\n\t      gameObjectList[i].update(delta);\n\t    }time = currentTime;\n\t  };\n\t}\n\tmodule.exports = GameEngine;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  plane: {\n\t    name: \"plane\",\n\t    url: \"redfighter0006.png\"\n\t  },\n\t  bg: {\n\t    name: \"bg\",\n\t    url: \"spacebg.jpg\"\n\t  },\n\t  rock1: {\n\t    name: \"rock1\",\n\t    url: \"rock1.png\"\n\t  },\n\t  rock2: {\n\t    name: \"rock2\",\n\t    url: \"rock2.png\"\n\t  },\n\t  bullet: {\n\t    name: \"bullet\",\n\t    url: \"bullet.png\"\n\t  }\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(PIXI) {'use strict';\n\t\n\tvar Global = __webpack_require__(3);\n\tvar Extends = __webpack_require__(8);\n\t\n\tfunction Background(texture, plane) {\n\t  var that = this;\n\t  PIXI.Container.call(that, texture);\n\t\n\t  var speedY = 5;\n\t  var resetHeight;\n\t  var movableWidth;\n\t  var minX = plane.minX;\n\t  var planeMovableWidth = plane.maxX - minX;\n\t\n\t  that.init = function () {\n\t    var sprite = new PIXI.Sprite(texture);\n\t    that.addChild(sprite);\n\t    var bgHeight = sprite.height;\n\t    sprite = new PIXI.Sprite(texture);\n\t    sprite.y = -bgHeight;\n\t    that.addChild(sprite);\n\t    var bgScale = Global.gameHeight / bgHeight;\n\t    that.scale.x = that.scale.y = bgScale;\n\t    resetHeight = that.height / 2;\n\t    movableWidth = that.width - Global.gameWidth;\n\t  };\n\t\n\t  that.update = function (dt) {\n\t    that.y += speedY * dt * 0.01;\n\t    if (that.y > resetHeight) that.y -= resetHeight;\n\t    that.x = -movableWidth * (plane.x - minX) / planeMovableWidth;\n\t  };\n\t}\n\tExtends(Background, PIXI.Container);\n\tmodule.exports = Background;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (target, source) {\n\t  target.prototype = Object.create(source.prototype);\n\t  target.prototype.constructor = target;\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(PIXI) {'use strict';\n\t\n\tvar Global = __webpack_require__(3);\n\tvar Extends = __webpack_require__(8);\n\t\n\tfunction Plane(texture) {\n\t  var that = this;\n\t  PIXI.Sprite.call(that, texture);\n\t\n\t  var speed = 5;\n\t  var moveToPosition = null;\n\t\n\t  var isDown = false;\n\t\n\t  that.maxX = Global.gameWidth - that.width / 2;\n\t  that.minX = that.width / 2;\n\t\n\t  function onDown(event) {\n\t    isDown = true;\n\t    moveTo(event.data.local);\n\t  }\n\t\n\t  function onUp(event) {\n\t    isDown = false;\n\t    moveToPosition = null;\n\t  }\n\t\n\t  function onMove(event) {\n\t    if (isDown) moveTo(event.data.local);\n\t  }\n\t\n\t  function moveTo(position) {\n\t    moveToPosition = position;\n\t  }\n\t\n\t  that.init = function () {\n\t    that.anchor.x = that.anchor.y = 0.5;\n\t    that.x = Global.gameWidth / 2;\n\t    that.y = Global.gameHeight - that.height;\n\t    Global.input.on('mousedown', onDown).on('touchstart', onDown).on('mouseup', onUp).on('touchend', onUp).on('mouseupoutside', onUp).on('touchendoutside', onUp).on('mousemove', onMove).on('touchmove', onMove);\n\t  };\n\t\n\t  that.update = function (dt) {\n\t    if (moveToPosition && that.x != moveToPosition.x) {\n\t      var moveToX = moveToPosition.x;\n\t      var distance = Math.min(speed * dt * 0.1, Math.abs(moveToX - that.x));\n\t      that.x += that.x < moveToX ? distance : -distance;\n\t      if (that.x > that.maxX) that.x = that.maxX;else if (that.x < that.minX) that.x = that.minX;\n\t    }\n\t    if (isDown) Global.gameEvent.emit('shoot', that.x, that.y, dt);\n\t  };\n\t}\n\tExtends(Plane, PIXI.Sprite);\n\tmodule.exports = Plane;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(PIXI) {'use strict';\n\t\n\tvar Global = __webpack_require__(3);\n\tvar Extends = __webpack_require__(8);\n\tvar Collision = __webpack_require__(11);\n\t\n\tfunction Bullets(texture) {\n\t  var that = this;\n\t  var count = 20;\n\t  var _texture = texture;\n\t\n\t  PIXI.Container.call(that);\n\t\n\t  var bullets = [];\n\t  var updates = [];\n\t\n\t  var lastFire = null;\n\t  var firePerSecond = 10;\n\t  var speed = 10;\n\t\n\t  function shoot(x, y, dt) {\n\t    var currentTime = Date.now();\n\t    if (lastFire && currentTime - lastFire < 1000 / firePerSecond) return;\n\t    lastFire = currentTime;\n\t    var bullet = bullets.pop();\n\t    bullet.x = x;\n\t    bullet.y = y;\n\t    updates.push(bullet);\n\t    that.addChild(bullet);\n\t  }\n\t\n\t  that.init = function () {\n\t    for (var i = 0; i < count; i++) {\n\t      var bullet = new PIXI.Sprite(_texture);\n\t      bullet.anchor.x = bullet.anchor.y = 0.5;\n\t      bullets.push(bullet);\n\t      Collision.addGroup(bullet, 'bullet');\n\t    }\n\t    Global.gameEvent.on('shoot', shoot);\n\t  };\n\t\n\t  that.update = function (dt) {\n\t    for (var i = 0, l = updates.length; i < l; i++) {\n\t      var bullet = updates[i];\n\t      bullet.y -= speed * dt * 0.1;\n\t      if (bullet.y < -bullet.height || !bullet.parent) {\n\t        that.removeChild(bullet);\n\t        bullets.push(bullet);\n\t        updates.splice(i, 1);\n\t        l--;\n\t        i--;\n\t      }\n\t    }\n\t  };\n\t}\n\tExtends(Bullets, PIXI.Container);\n\tmodule.exports = Bullets;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Global = __webpack_require__(3);\n\t\n\tvar groups = {};\n\t// var stage;\n\t// var point1 = new PIXI.Point();\n\t// var point2 = new PIXI.Point();\n\t\n\tvar Collision = {\n\t  addGroup: function addGroup(instance, group) {\n\t    var array = groups[group];\n\t    if (array) array.push(instance);else groups[group] = [instance];\n\t  },\n\t  isCollide: function isCollide(instance, group) {\n\t    if (instance.parent == null) return;\n\t    var instanceWidth = instance.width;\n\t    var instanceHeight = instance.height;\n\t    var x1 = instance.x + (0.5 - instance.anchor.x) * instanceWidth;\n\t    var y1 = instance.y + (0.5 - instance.anchor.y) * instanceHeight;\n\t    var array = groups[group];\n\t    var target, targetWidth, targetHeight, x2, y2;\n\t    for (var i = 0, l = array.length; i < l; i++) {\n\t      target = array[i];\n\t      if (target.parent == null) continue;\n\t      targetWidth = target.width;\n\t      targetHeight = target.height;\n\t      x2 = target.x + (0.5 - target.anchor.x) * targetWidth;\n\t      y2 = target.y + (0.5 - target.anchor.y) * targetHeight;\n\t      if (Math.abs(x1 - x2) < (instanceWidth + targetWidth) * 0.5 && Math.abs(y1 - y2) < (instanceHeight + targetHeight) * 0.5) return target;\n\t    }\n\t    return null;\n\t  }\n\t  // isCollide: function(instance, group) {\n\t  //   if (instance.parent == null) return;\n\t  //   if (!stage) stage = Global.gameStage;\n\t  //   var instanceWidth = instance.width;\n\t  //   var instanceHeight = instance.height;\n\t  //   point1.x = instance.x + (0.5 - instance.anchor.x) * instanceWidth;\n\t  //   point1.y = instance.y + (0.5 - instance.anchor.y) * instanceHeight;\n\t  //   // point1 = stage.toLocal(point1, instance);\n\t  //   var array = groups[group];\n\t  //   var target, targetWidth, targetHeight;\n\t  //   for (var i = 0, l = array.length; i < l; i++) {\n\t  //     target = array[i];\n\t  //     if (target.parent == null) continue;\n\t  //     targetWidth = target.width;\n\t  //     targetHeight = target.height;\n\t  //     point2.x = target.x + (0.5 - target.anchor.x) * targetWidth;\n\t  //     point2.y = target.y + (0.5 - target.anchor.y) * targetHeight;\n\t  //     // point2 = stage.toLocal(point2, target);\n\t  //     if (Math.abs(point1.x - point2.x) < (instanceWidth + targetWidth) * 0.5 && Math.abs(point1.y - point2.y) < (instanceHeight + targetHeight) * 0.5)\n\t  //       return target;\n\t  //   }\n\t  //   return null;\n\t  // }\n\t};\n\tmodule.exports = Collision;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(PIXI) {'use strict';\n\t\n\tvar Global = __webpack_require__(3);\n\tvar Extends = __webpack_require__(8);\n\tvar Assets = __webpack_require__(6);\n\tvar Rock = __webpack_require__(13);\n\t\n\tfunction RockArray() {\n\t  var that = this;\n\t  var count = 5;\n\t\n\t  PIXI.Container.call(that);\n\t\n\t  var rockName = [Assets.rock1.name, Assets.rock2.name];\n\t  var rocks = {};\n\t  var updates = [];\n\t\n\t  var gameWidth = Global.gameWidth;\n\t\n\t  var lastFire = null;\n\t  var rocksPerSecond = 1;\n\t\n\t  function generateRocks() {\n\t    var currentTime = Date.now();\n\t    if (lastFire && currentTime - lastFire < 1000 / rocksPerSecond) return;\n\t    if (updates.length > 2 * count) return;\n\t    lastFire = currentTime;\n\t    var name = rockName[Math.floor(Math.random() * 2)];\n\t    var rock;\n\t    while (!rock) {\n\t      rock = rocks[name].pop();\n\t      if (!rock) {\n\t        name = (name + 1) % rockName.length;\n\t        return;\n\t      }\n\t      rock.x = gameWidth * 0.25 + Math.random() * Global.gameWidth / 2;\n\t      rock.y = -rock.height;\n\t      updates.push(rock);\n\t      that.addChild(rock);\n\t    }\n\t  }\n\t\n\t  that.init = function () {\n\t    var resources = PIXI.loader.resources;\n\t    var i, name, texture, array, rock;\n\t    for (var n = 0, c = rockName.length; n < c; n++) {\n\t      name = rockName[n];\n\t      texture = resources[name].texture;\n\t      array = rocks[name] = [];\n\t      for (i = 0; i < count; i++) {\n\t        rock = new Rock(name, texture);\n\t        rock.init();\n\t        array.push(rock);\n\t      }\n\t    }\n\t  };\n\t\n\t  that.update = function (dt) {\n\t    for (var i = 0, l = updates.length; i < l; i++) {\n\t      var rock = updates[i];\n\t      if (rock.parent && rock.y < Global.gameHeight + rock.height) rock.update(dt);else {\n\t        rocks[rock.name()].push(rock);\n\t        updates.splice(i, 1);\n\t        l--;\n\t        i--;\n\t      }\n\t    }\n\t    generateRocks();\n\t  };\n\t}\n\tExtends(RockArray, PIXI.Container);\n\tmodule.exports = RockArray;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(PIXI) {'use strict';\n\t\n\tvar Global = __webpack_require__(3);\n\tvar Extends = __webpack_require__(8);\n\tvar Collision = __webpack_require__(11);\n\t\n\tfunction Rock(textureName, texture) {\n\t  var that = this;\n\t  var name = textureName;\n\t  PIXI.Sprite.call(that, texture);\n\t\n\t  that.speedX = Math.random() * 1 - 0.5;\n\t  that.speedY = 1 + Math.random() * 4;\n\t  that.speedRotation = (Math.random() * 1 - 0.5) * 0.01;\n\t\n\t  that.name = function () {\n\t    return name;\n\t  };\n\t\n\t  that.init = function () {\n\t    that.anchor.x = that.anchor.y = 0.5;\n\t    Collision.addGroup(that, 'rock');\n\t  };\n\t\n\t  that.update = function (dt) {\n\t    that.x += that.speedX * dt * 0.1;\n\t    that.y += that.speedY * dt * 0.1;\n\t    var target = Collision.isCollide(that, 'bullet');\n\t    that.rotation += that.speedRotation * dt;\n\t    if (target) {\n\t      target.parent.removeChild(target);\n\t      that.parent.removeChild(that);\n\t    }\n\t  };\n\t}\n\tExtends(Rock, PIXI.Sprite);\n\tmodule.exports = Rock;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e273b7f0cb08d953937b\n **/","// require('../css/app.css');\n// require('babel-polyfill');\nconst Global = require('./Global');\nconst GameEngine = require('./GameEngine');\nconst Assets = require('./GameObject/Assets');\n$(function() {\n  var renderer = PIXI.autoDetectRenderer(window.innerWidth, window.innerHeight, {\n    view: $(\"canvas\")[0]\n  });\n\n  var stage = new PIXI.Container(),\n    mask = new PIXI.Graphics(),\n    loader = PIXI.loader,\n    gameEngine = new GameEngine(stage),\n    winObject = $(window);\n\n  Global.gameStage = stage;\n  stage.mask = mask;\n\n  loader.baseUrl = \"assets/\";\n  var assetList = [];\n  for (var i in Assets)\n    assetList.push(Assets[i]);\n  loader\n    .once('complete', function() {\n      gameEngine.init();\n      // var area = new PIXI.Graphics();\n      // area.beginFill(0xFFFFFF);\n      // area.drawRect(0, 0, Global.gameWidth, Global.gameHeight);\n      // area.endFill();\n      // stage.addChild(area);\n      animate();\n    })\n    .add(assetList)\n    .load();\n\n  function animate() {\n    requestAnimationFrame(animate);\n    gameEngine.update();\n    renderer.render(stage);\n  }\n\n  winObject.on(\"resize\", resize);\n  resize();\n\n  function resize() {\n    var screenWidth, stageWidth, screenHeight, stageHeight;\n    screenWidth = stageWidth = winObject.width();\n    screenHeight = stageHeight = winObject.height();\n    var gameWidth = Global.gameWidth;\n    var gameHeight = Global.gameHeight;\n    var screenRatio = gameHeight / gameWidth;\n    if (stageHeight / stageWidth < screenRatio)\n      stageWidth = stageHeight / screenRatio;\n    else\n      stageHeight = stageWidth * screenRatio;\n    mask.clear();\n    mask.beginFill(0xFFFFFF, 1);\n    var x = (screenWidth - stageWidth) / 2;\n    var y = (screenHeight - stageHeight) / 2;\n    mask.drawRect(x, y, stageWidth, stageHeight);\n    mask.endFill();\n    stage.x = x;\n    stage.y = y;\n    stage.scale.x = stageWidth / gameWidth;\n    stage.scale.y = stageHeight / gameHeight;\n    renderer.resize(screenWidth, screenHeight);\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.js\n **/","module.exports = $;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"$\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = PIXI;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"PIXI\"\n ** module id = 2\n ** module chunks = 0\n **/","const EventEmitter = require('eventemitter3');\nmodule.exports = {\n  gameStage: null,\n  gameWidth: 500,\n  gameHeight: 800,\n  gameEvent: new EventEmitter(),\n  gameStartTime: null,\n  input: new EventEmitter()\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Global.js\n **/","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\n//\n// We store our EE objects in a plain object whose properties are event names.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// `~` to make sure that the built-in object properties are not overridden or\n// used as an attack vector.\n// We also assume that `Object.create(null)` is available when the event name\n// is an ES6 Symbol.\n//\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} [once=false] Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Hold the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var events = this._events\n    , names = []\n    , name;\n\n  if (!events) return names;\n\n  for (name in events) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @param {Boolean} exists We only need to know if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events && this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} [context=this] The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} [context=this] The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return this;\n\n  var listeners = this._events[evt]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn) {\n      if (\n           listeners.fn !== fn\n        || (once && !listeners.once)\n        || (context && listeners.context !== context)\n      ) {\n        events.push(listeners);\n      }\n    } else {\n      for (var i = 0, length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[evt] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[prefix ? prefix + event : event];\n  else this._events = prefix ? {} : Object.create(null);\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/eventemitter3/index.js\n ** module id = 4\n ** module chunks = 0\n **/","const Global = require('./Global');\nconst Assets = require('./GameObject/Assets');\nconst Background = require('./GameObject/Background');\nconst Plane = require('./GameObject/Plane');\nconst Bullets = require('./GameObject/Bullets');\nconst RockArray = require('./GameObject/RockArray');\nconst Rock = require('./GameObject/Rock');\n\nfunction GameEngine(gameStage) {\n  var that = this;\n  var stage = gameStage;\n\n  var time = Date.now();\n  var gameObjectList = [];\n\n  function listen(event) {\n    event.data.local = stage.toLocal(event.data.global);\n    Global.input.emit(event.type, event);\n  }\n\n  that.init = function() {\n    var resources = PIXI.loader.resources;\n\n    var plane = new Plane(resources[Assets.plane.name].texture);\n\n    var bg = new Background(resources[Assets.bg.name].texture, plane);\n    stage.addChild(bg);\n    gameObjectList.push(bg);\n\n    stage.addChild(plane);\n    gameObjectList.push(plane);\n\n    var bullets = new Bullets(resources[Assets.bullet.name].texture);\n    stage.addChild(bullets);\n    gameObjectList.push(bullets);\n\n    var rocks = new RockArray();\n    stage.addChild(rocks);\n    gameObjectList.push(rocks);\n\n    // var rock1 = new Rock(Assets.rock1.name, resources[Assets.rock1.name].texture);\n    // stage.addChild(rock1);\n    // gameObjectList.push(rock1);\n    //\n    // var rock2 = new Rock(Assets.rock2.name, resources[Assets.rock2.name].texture);\n    // stage.addChild(rock2);\n    // gameObjectList.push(rock2);\n\n    stage.interactive = true;\n    stage\n      .on('mousedown', listen)\n      .on('touchstart', listen)\n      .on('mouseup', listen)\n      .on('touchend', listen)\n      .on('mouseupoutside', listen)\n      .on('touchendoutside', listen)\n      .on('mousemove', listen)\n      .on('touchmove', listen);\n\n    for (var i = 0, l = gameObjectList.length; i < l; i++)\n      gameObjectList[i].init();\n\n    Global.gameStartTime = Date.now();\n  };\n\n  that.update = function() {\n    var currentTime = Date.now();\n    var delta = currentTime - time;\n    for (var i = 0, l = gameObjectList.length; i < l; i++)\n      gameObjectList[i].update(delta);\n    time = currentTime;\n  };\n}\nmodule.exports = GameEngine;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/GameEngine.js\n **/","module.exports = {\n  plane: {\n    name: \"plane\",\n    url: \"redfighter0006.png\"\n  },\n  bg: {\n    name: \"bg\",\n    url: \"spacebg.jpg\"\n  },\n  rock1: {\n    name: \"rock1\",\n    url: \"rock1.png\"\n  },\n  rock2: {\n    name: \"rock2\",\n    url: \"rock2.png\"\n  },\n  bullet: {\n    name: \"bullet\",\n    url: \"bullet.png\"\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/GameObject/Assets.js\n **/","const Global = require('../Global');\nconst Extends = require('../util/extends');\n\nfunction Background(texture, plane) {\n  var that = this;\n  PIXI.Container.call(that, texture);\n\n  var speedY = 5;\n  var resetHeight;\n  var movableWidth;\n  var minX = plane.minX;\n  var planeMovableWidth = plane.maxX - minX;\n\n  that.init = function() {\n    var sprite = new PIXI.Sprite(texture);\n    that.addChild(sprite);\n    var bgHeight = sprite.height;\n    sprite = new PIXI.Sprite(texture);\n    sprite.y = -bgHeight;\n    that.addChild(sprite);\n    var bgScale = Global.gameHeight / bgHeight;\n    that.scale.x = that.scale.y = bgScale;\n    resetHeight = that.height / 2;\n    movableWidth = that.width - Global.gameWidth;\n  };\n\n  that.update = function(dt) {\n    that.y += speedY * dt * 0.01;\n    if (that.y > resetHeight)\n      that.y -= resetHeight;\n    that.x = -movableWidth * (plane.x - minX) / planeMovableWidth\n  };\n}\nExtends(Background, PIXI.Container);\nmodule.exports = Background;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/GameObject/Background.js\n **/","module.exports = function(target, source) {\n  target.prototype = Object.create(source.prototype);\n  target.prototype.constructor = target;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/extends.js\n **/","const Global = require('../Global');\nconst Extends = require('../util/extends');\n\nfunction Plane(texture) {\n  var that = this;\n  PIXI.Sprite.call(that, texture);\n\n  var speed = 5;\n  var moveToPosition = null;\n\n  var isDown = false;\n\n  that.maxX = Global.gameWidth - that.width / 2;\n  that.minX = that.width / 2;\n\n  function onDown(event) {\n    isDown = true;\n    moveTo(event.data.local);\n  }\n\n  function onUp(event) {\n    isDown = false;\n    moveToPosition = null;\n  }\n\n  function onMove(event) {\n    if (isDown) moveTo(event.data.local);\n  }\n\n  function moveTo(position) {\n    moveToPosition = position;\n  }\n\n  that.init = function() {\n    that.anchor.x = that.anchor.y = 0.5;\n    that.x = Global.gameWidth / 2;\n    that.y = Global.gameHeight - that.height;\n    Global.input\n      .on('mousedown', onDown)\n      .on('touchstart', onDown)\n      .on('mouseup', onUp)\n      .on('touchend', onUp)\n      .on('mouseupoutside', onUp)\n      .on('touchendoutside', onUp)\n      .on('mousemove', onMove)\n      .on('touchmove', onMove);\n  };\n\n  that.update = function(dt) {\n    if (moveToPosition && that.x != moveToPosition.x) {\n      var moveToX = moveToPosition.x;\n      var distance = Math.min(speed * dt * 0.1, Math.abs(moveToX - that.x));\n      that.x += (that.x < moveToX) ? distance : -distance;\n      if (that.x > that.maxX)\n        that.x = that.maxX;\n      else if (that.x < that.minX)\n        that.x = that.minX;\n    }\n    if (isDown)\n      Global.gameEvent.emit('shoot', that.x, that.y, dt);\n  };\n}\nExtends(Plane, PIXI.Sprite);\nmodule.exports = Plane;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/GameObject/Plane.js\n **/","const Global = require('../Global');\nconst Extends = require('../util/extends');\nconst Collision = require('../Collision');\n\nfunction Bullets(texture) {\n  var that = this;\n  var count = 20;\n  var _texture = texture;\n\n  PIXI.Container.call(that);\n\n  var bullets = [];\n  var updates = [];\n\n  var lastFire = null;\n  var firePerSecond = 10;\n  var speed = 10;\n\n  function shoot(x, y, dt) {\n    var currentTime = Date.now();\n    if (lastFire && currentTime - lastFire < 1000 / firePerSecond) return;\n    lastFire = currentTime;\n    var bullet = bullets.pop();\n    bullet.x = x;\n    bullet.y = y;\n    updates.push(bullet);\n    that.addChild(bullet);\n  }\n\n  that.init = function() {\n    for (var i = 0; i < count; i++) {\n      var bullet = new PIXI.Sprite(_texture);\n      bullet.anchor.x = bullet.anchor.y = 0.5;\n      bullets.push(bullet);\n      Collision.addGroup(bullet, 'bullet');\n    }\n    Global.gameEvent.on('shoot', shoot);\n  };\n\n  that.update = function(dt) {\n    for (var i = 0, l = updates.length; i < l; i++) {\n      var bullet = updates[i];\n      bullet.y -= speed * dt * 0.1;\n      if (bullet.y < -bullet.height || !bullet.parent) {\n        that.removeChild(bullet);\n        bullets.push(bullet);\n        updates.splice(i, 1);\n        l--;\n        i--;\n      }\n    }\n  };\n}\nExtends(Bullets, PIXI.Container);\nmodule.exports = Bullets;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/GameObject/Bullets.js\n **/","const Global = require('./Global');\n\nvar groups = {};\n// var stage;\n// var point1 = new PIXI.Point();\n// var point2 = new PIXI.Point();\n\nvar Collision = {\n  addGroup: function(instance, group) {\n    var array = groups[group];\n    if (array)\n      array.push(instance);\n    else\n      groups[group] = [instance];\n  },\n  isCollide: function(instance, group) {\n    if (instance.parent == null) return;\n    var instanceWidth = instance.width;\n    var instanceHeight = instance.height;\n    var x1 = instance.x + (0.5 - instance.anchor.x) * instanceWidth;\n    var y1 = instance.y + (0.5 - instance.anchor.y) * instanceHeight;\n    var array = groups[group];\n    var target, targetWidth, targetHeight, x2, y2;\n    for (var i = 0, l = array.length; i < l; i++) {\n      target = array[i];\n      if (target.parent == null) continue;\n      targetWidth = target.width;\n      targetHeight = target.height;\n      x2 = target.x + (0.5 - target.anchor.x) * targetWidth;\n      y2 = target.y + (0.5 - target.anchor.y) * targetHeight;\n      if (Math.abs(x1 - x2) < (instanceWidth + targetWidth) * 0.5 && Math.abs(y1 - y2) < (instanceHeight + targetHeight) * 0.5)\n        return target;\n    }\n    return null;\n  }\n  // isCollide: function(instance, group) {\n  //   if (instance.parent == null) return;\n  //   if (!stage) stage = Global.gameStage;\n  //   var instanceWidth = instance.width;\n  //   var instanceHeight = instance.height;\n  //   point1.x = instance.x + (0.5 - instance.anchor.x) * instanceWidth;\n  //   point1.y = instance.y + (0.5 - instance.anchor.y) * instanceHeight;\n  //   // point1 = stage.toLocal(point1, instance);\n  //   var array = groups[group];\n  //   var target, targetWidth, targetHeight;\n  //   for (var i = 0, l = array.length; i < l; i++) {\n  //     target = array[i];\n  //     if (target.parent == null) continue;\n  //     targetWidth = target.width;\n  //     targetHeight = target.height;\n  //     point2.x = target.x + (0.5 - target.anchor.x) * targetWidth;\n  //     point2.y = target.y + (0.5 - target.anchor.y) * targetHeight;\n  //     // point2 = stage.toLocal(point2, target);\n  //     if (Math.abs(point1.x - point2.x) < (instanceWidth + targetWidth) * 0.5 && Math.abs(point1.y - point2.y) < (instanceHeight + targetHeight) * 0.5)\n  //       return target;\n  //   }\n  //   return null;\n  // }\n};\nmodule.exports = Collision;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Collision.js\n **/","const Global = require('../Global');\nconst Extends = require('../util/extends');\nconst Assets = require('./Assets');\nconst Rock = require('./Rock');\n\nfunction RockArray() {\n  var that = this;\n  var count = 5;\n\n  PIXI.Container.call(that);\n\n  var rockName = [Assets.rock1.name, Assets.rock2.name];\n  var rocks = {};\n  var updates = [];\n\n  var gameWidth = Global.gameWidth;\n\n  var lastFire = null;\n  var rocksPerSecond = 1;\n\n  function generateRocks() {\n    var currentTime = Date.now();\n    if (lastFire && currentTime - lastFire < 1000 / rocksPerSecond)\n      return;\n    if (updates.length > 2 * count)\n      return;\n    lastFire = currentTime;\n    var name = rockName[Math.floor(Math.random() * 2)];\n    var rock;\n    while (!rock) {\n      rock = rocks[name].pop();\n      if (!rock) {\n        name = (name + 1) % rockName.length;\n        return;\n      }\n      rock.x = gameWidth * 0.25 + (Math.random() * Global.gameWidth) / 2;\n      rock.y = -rock.height;\n      updates.push(rock);\n      that.addChild(rock);\n    }\n  }\n\n  that.init = function() {\n    var resources = PIXI.loader.resources;\n    var i, name, texture, array, rock;\n    for (var n = 0, c = rockName.length; n < c; n++) {\n      name = rockName[n];\n      texture = resources[name].texture;\n      array = rocks[name] = [];\n      for (i = 0; i < count; i++) {\n        rock = new Rock(name, texture);\n        rock.init();\n        array.push(rock);\n      }\n    }\n  };\n\n  that.update = function(dt) {\n    for (var i = 0, l = updates.length; i < l; i++) {\n      var rock = updates[i];\n      if (rock.parent && rock.y < Global.gameHeight + rock.height)\n        rock.update(dt);\n      else {\n        rocks[rock.name()].push(rock);\n        updates.splice(i, 1);\n        l--;\n        i--;\n      }\n    }\n    generateRocks();\n  };\n}\nExtends(RockArray, PIXI.Container);\nmodule.exports = RockArray;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/GameObject/RockArray.js\n **/","const Global = require('../Global');\nconst Extends = require('../util/extends');\nconst Collision = require('../Collision');\n\nfunction Rock(textureName, texture) {\n  var that = this;\n  var name = textureName;\n  PIXI.Sprite.call(that, texture);\n\n  that.speedX = Math.random() * 1 - 0.5;\n  that.speedY = 1 + Math.random() * 4;\n  that.speedRotation = (Math.random() * 1 - 0.5) * 0.01;\n\n  that.name = function() {\n    return name;\n  };\n\n  that.init = function() {\n    that.anchor.x = that.anchor.y = 0.5;\n    Collision.addGroup(that, 'rock');\n  };\n\n  that.update = function(dt) {\n    that.x += that.speedX * dt * 0.1;\n    that.y += that.speedY * dt * 0.1;\n    var target = Collision.isCollide(that, 'bullet');\n    that.rotation += that.speedRotation * dt;\n    if (target) {\n      target.parent.removeChild(target);\n      that.parent.removeChild(that);\n    }\n  };\n}\nExtends(Rock, PIXI.Sprite);\nmodule.exports = Rock;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/GameObject/Rock.js\n **/"],"sourceRoot":""}