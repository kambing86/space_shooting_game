!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t,e){"use strict";var r=n(3),o=n(5),i=n(6);t(function(){function n(){requestAnimationFrame(n),l.update(),s.render(c)}function a(){var t,e,n,o;t=e=p.width(),n=o=p.height();var i=r.gameWidth,a=r.gameHeight,h=a/i;h>o/e?e=o/h:o=e*h,u.clear(),u.beginFill(16777215,1);var l=(t-e)/2,f=(n-o)/2;u.drawRect(l,f,e,o),u.endFill(),c.x=l,c.y=f,c.scale.x=e/i,c.scale.y=o/a,s.resize(t,n)}var s=e.autoDetectRenderer(window.innerWidth,window.innerHeight,{view:t("canvas")[0]}),c=new e.Container,u=new e.Graphics,h=e.loader,l=new o(c),p=t(window);r.gameStage=c,c.mask=u,h.baseUrl="assets/";var f=[];for(var v in i)f.push(i[v]);h.once("complete",function(){l.init(),n()}).add(f).load(),p.on("resize",a),a()})}).call(e,n(1),n(2))},function(t,e){t.exports=$},function(t,e){t.exports=PIXI},function(t,e,n){"use strict";var r=n(4);t.exports={gameStage:null,gameWidth:500,gameHeight:800,gameEvent:new r,gameStartTime:null,input:new r}},function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){}var i=Object.prototype.hasOwnProperty,a="function"!=typeof Object.create?"~":!1;o.prototype._events=void 0,o.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)i.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(t,e){var n=a?a+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);i>o;o++)s[o]=r[o].fn;return s},o.prototype.emit=function(t,e,n,r,o,i){var s=a?a+t:t;if(!this._events||!this._events[s])return!1;var c,u,h=this._events[s],l=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,r),!0;case 5:return h.fn.call(h.context,e,n,r,o),!0;case 6:return h.fn.call(h.context,e,n,r,o,i),!0}for(u=1,c=new Array(l-1);l>u;u++)c[u-1]=arguments[u];h.fn.apply(h.context,c)}else{var p,f=h.length;for(u=0;f>u;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),l){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,n);break;default:if(!c)for(p=1,c=new Array(l-1);l>p;p++)c[p-1]=arguments[p];h[u].fn.apply(h[u].context,c)}}return!0},o.prototype.on=function(t,e,n){var o=new r(e,n||this),i=a?a+t:t;return this._events||(this._events=a?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.once=function(t,e,n){var o=new r(e,n||this,!0),i=a?a+t:t;return this._events||(this._events=a?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.removeListener=function(t,e,n,r){var o=a?a+t:t;if(!this._events||!this._events[o])return this;var i=this._events[o],s=[];if(e)if(i.fn)(i.fn!==e||r&&!i.once||n&&i.context!==n)&&s.push(i);else for(var c=0,u=i.length;u>c;c++)(i[c].fn!==e||r&&!i[c].once||n&&i[c].context!==n)&&s.push(i[c]);return s.length?this._events[o]=1===s.length?s[0]:s:delete this._events[o],this},o.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[a?a+t:t]:this._events=a?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,t.exports=o},function(t,e,n){(function(e){"use strict";function r(t){function n(t){t.data.local=h.toLocal(t.data.global),o.input.emit(t.type,t)}var r=this,h=t,l=Date.now(),p=[];r.init=function(){var t=e.loader.resources,r=new s(t[i.plane.name].texture),l=new a(t[i.bg.name].texture,r);h.addChild(l),p.push(l),h.addChild(r),p.push(r);var f=new c(t[i.bullet.name].texture);h.addChild(f),p.push(f);var v=new u;h.addChild(v),p.push(v),h.interactive=!0,h.on("mousedown",n).on("touchstart",n).on("mouseup",n).on("touchend",n).on("mouseupoutside",n).on("touchendoutside",n).on("mousemove",n).on("touchmove",n);for(var d=0,m=p.length;m>d;d++)p[d].init();o.gameStartTime=Date.now()},r.update=function(){for(var t=Date.now(),e=t-l,n=0,r=p.length;r>n;n++)p[n].update(e);l=t}}var o=n(3),i=n(6),a=n(7),s=n(9),c=n(10),u=n(12);n(13);t.exports=r}).call(e,n(2))},function(t,e){"use strict";t.exports={plane:{name:"plane",url:"redfighter0006.png"},bg:{name:"bg",url:"spacebg.jpg"},rock1:{name:"rock1",url:"rock1.png"},rock2:{name:"rock2",url:"rock2.png"},bullet:{name:"bullet",url:"bullet.png"}}},function(t,e,n){(function(e){"use strict";function r(t,n){var r=this;e.Container.call(r,t);var i,a,s=5,c=n.minX,u=n.maxX-c;r.init=function(){var n=new e.Sprite(t);r.addChild(n);var s=n.height;n=new e.Sprite(t),n.y=-s,r.addChild(n);var c=o.gameHeight/s;r.scale.x=r.scale.y=c,i=r.height/2,a=r.width-o.gameWidth},r.update=function(t){r.y+=s*t*.01,r.y>i&&(r.y-=i),r.x=-a*(n.x-c)/u}}var o=n(3),i=n(8);i(r,e.Container),t.exports=r}).call(e,n(2))},function(t,e){"use strict";t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}},function(t,e,n){(function(e){"use strict";function r(t){function n(t){h=!0,a(t.data.local)}function r(t){h=!1,u=null}function i(t){h&&a(t.data.local)}function a(t){u=t}var s=this;e.Sprite.call(s,t);var c=5,u=null,h=!1;s.maxX=o.gameWidth-s.width/2,s.minX=s.width/2,s.init=function(){s.anchor.x=s.anchor.y=.5,s.x=o.gameWidth/2,s.y=o.gameHeight-s.height,o.input.on("mousedown",n).on("touchstart",n).on("mouseup",r).on("touchend",r).on("mouseupoutside",r).on("touchendoutside",r).on("mousemove",i).on("touchmove",i)},s.update=function(t){if(u&&s.x!=u.x){var e=u.x,n=Math.min(c*t*.1,Math.abs(e-s.x));s.x+=s.x<e?n:-n,s.x>s.maxX?s.x=s.maxX:s.x<s.minX&&(s.x=s.minX)}h&&o.gameEvent.emit("shoot",s.x,s.y,t)}}var o=n(3),i=n(8);i(r,e.Sprite),t.exports=r}).call(e,n(2))},function(t,e,n){(function(e){"use strict";function r(t){function n(t,e,n){var o=Date.now();if(!(h&&1e3/l>o-h)){h=o;var i=c.pop();i.x=t,i.y=e,u.push(i),r.addChild(i)}}var r=this,i=20,s=t;e.Container.call(r);var c=[],u=[],h=null,l=10,p=10;r.init=function(){for(var t=0;i>t;t++){var r=new e.Sprite(s);r.anchor.x=r.anchor.y=.5,c.push(r),a.addGroup(r,"bullet")}o.gameEvent.on("shoot",n)},r.update=function(t){for(var e=0,n=u.length;n>e;e++){var o=u[e];o.y-=p*t*.1,(o.y<-o.height||!o.parent)&&(r.removeChild(o),c.push(o),u.splice(e,1),n--,e--)}}}var o=n(3),i=n(8),a=n(11);i(r,e.Container),t.exports=r}).call(e,n(2))},function(t,e,n){"use strict";var r=(n(3),{}),o={addGroup:function(t,e){var n=r[e];n?n.push(t):r[e]=[t]},isCollide:function(t,e){if(null!=t.parent){for(var n,o,i,a,s,c=t.width,u=t.height,h=t.x+(.5-t.anchor.x)*c,l=t.y+(.5-t.anchor.y)*u,p=r[e],f=0,v=p.length;v>f;f++)if(n=p[f],null!=n.parent&&(o=n.width,i=n.height,a=n.x+(.5-n.anchor.x)*o,s=n.y+(.5-n.anchor.y)*i,Math.abs(h-a)<.5*(c+o)&&Math.abs(l-s)<.5*(u+i)))return n;return null}}};t.exports=o},function(t,e,n){(function(e){"use strict";function r(){function t(){var t=Date.now();if(!(l&&1e3/p>t-l||u.length>2*r)){l=t;for(var e,a=i[Math.floor(2*Math.random())];!e;){if(e=c[a].pop(),!e)return void(a=(a+1)%i.length);e.x=.25*h+Math.random()*o.gameWidth/2,e.y=-e.height,u.push(e),n.addChild(e)}}}var n=this,r=5;e.Container.call(n);var i=[a.rock1.name,a.rock2.name],c={},u=[],h=o.gameWidth,l=null,p=1;n.init=function(){for(var t,n,o,a,u,h=e.loader.resources,l=0,p=i.length;p>l;l++)for(n=i[l],o=h[n].texture,a=c[n]=[],t=0;r>t;t++)u=new s(n,o),u.init(),a.push(u)},n.update=function(e){for(var n=0,r=u.length;r>n;n++){var i=u[n];i.parent&&i.y<o.gameHeight+i.height?i.update(e):(c[i.name()].push(i),u.splice(n,1),r--,n--)}t()}}var o=n(3),i=n(8),a=n(6),s=n(13);i(r,e.Container),t.exports=r}).call(e,n(2))},function(t,e,n){(function(e){"use strict";function r(t,n){var r=this,o=t;e.Sprite.call(r,n),r.speedX=1*Math.random()-.5,r.speedY=1+4*Math.random(),r.speedRotation=.01*(1*Math.random()-.5),r.name=function(){return o},r.init=function(){r.anchor.x=r.anchor.y=.5,i.addGroup(r,"rock")},r.update=function(t){r.x+=r.speedX*t*.1,r.y+=r.speedY*t*.1;var e=i.isCollide(r,"bullet");r.rotation+=r.speedRotation*t,e&&(e.parent.removeChild(e),r.parent.removeChild(r))}}var o=(n(3),n(8)),i=n(11);o(r,e.Sprite),t.exports=r}).call(e,n(2))}]);
//# sourceMappingURL=bundle.js.map